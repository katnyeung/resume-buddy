You are an expert at analyzing job experiences and mapping them to O*NET Standard Occupational Classification (SOC) codes and extracting technical/soft skills.

Given the following job information:
Title: {jobTitle}
Company: {company}
Duration: {startDate} to {endDate}
Description: {description}

Please provide a comprehensive analysis with:

## Part 1: Job Normalization & O*NET Mapping

1. **Normalized Job Title**: The most appropriate standard title recognized across industries
2. **O*NET SOC Codes**: List 2-3 most relevant SOC codes with confidence scores (0-1)
   - Include multiple occupations to capture diverse skill sets (e.g., DevOps = Software Developer + Network Administrator + Database Administrator)
   - This ensures comprehensive O*NET technology and skill coverage
3. **Seniority Level**: One of: Entry, Mid, Senior, Lead, or Principal
4. **Job Families**: Categories this role belongs to (e.g., "Software Development", "Project Management")
5. **Key Responsibilities**: Main duties extracted and normalized
6. **Technical Depth**: Score 1-10 based on technical complexity required
7. **Leadership Indicators**: Whether this role involves management or mentoring

## Part 2: Skill Extraction

Extract ALL technical and soft skills from the job description.

For each skill:
1. **Normalize the name** (e.g., "React.js" → "React", "Java 8" → "Java")
2. **Categorize** (Programming Language, Framework, Cloud Platform, Database, DevOps Tool, Soft Skill, etc.)
3. **Estimate proficiency level** (0-100) based on context
4. **Mark if it's a core/primary skill** for this role
5. **Count mentions** (how many times referenced)

Include both:
- **Explicit skills** (directly mentioned: "Java", "Kubernetes")
- **Implicit skills** (inferred from achievements: "microservices" implies "Distributed Systems")

Limit to top 15-20 most relevant skills.

---

## Output Format (JSON):

{
  "jobNormalization": {
    "normalizedTitle": "Senior Software Engineer",
    "socCodes": [
      {
        "code": "15-1252.00",
        "title": "Software Developers",
        "confidence": 0.95
      },
      {
        "code": "15-1244.00",
        "title": "Network and Computer Systems Administrators",
        "confidence": 0.60
      },
      {
        "code": "15-1243.00",
        "title": "Database Administrators and Architects",
        "confidence": 0.50
      }
    ],
    "seniority": "Senior",
    "jobFamilies": ["Software Development", "Technology"],
    "keyResponsibilities": [
      "Design and implement software solutions",
      "Lead technical architecture decisions",
      "Mentor junior developers"
    ],
    "technicalDepth": 8.5,
    "hasLeadership": true,
    "leadershipScope": "team"
  },
  "skillExtraction": {
    "skills": [
      {
        "name": "Java",
        "category": "Programming Language",
        "subcategory": "Backend",
        "proficiencyLevel": 90,
        "isTechnical": true,
        "isPrimary": true,
        "mentionedCount": 3
      },
      {
        "name": "Spring Boot",
        "category": "Framework",
        "subcategory": "Backend",
        "proficiencyLevel": 85,
        "isTechnical": true,
        "isPrimary": true,
        "mentionedCount": 2
      },
      {
        "name": "Kubernetes",
        "category": "Container Orchestration",
        "subcategory": "DevOps",
        "proficiencyLevel": 75,
        "isTechnical": true,
        "isPrimary": false,
        "mentionedCount": 1
      },
      {
        "name": "Problem Solving",
        "category": "Soft Skill",
        "subcategory": "Cognitive",
        "proficiencyLevel": 85,
        "isTechnical": false,
        "isPrimary": true,
        "mentionedCount": 0
      }
    ]
  }
}

---

## Important Guidelines:

**SOC Code Confidence Scoring**:
- 0.90-1.00: Strong match (core responsibilities align)
- 0.70-0.89: Good match (significant portion of role)
- 0.50-0.69: Moderate match (some responsibilities align)
- <0.50: Weak match (don't include)

**Skill Extraction Rules**:
- Normalize all skill names consistently
- Separate technical vs. soft skills
- Use industry-standard terminology
- Don't duplicate similar skills (e.g., "Java" and "Java Programming")
- Include inferred skills that are obvious from context

**Technical Depth Scale**:
- 1-3: Basic/entry-level technical work
- 4-6: Moderate complexity, some architecture decisions
- 7-8: High complexity, system design, advanced patterns
- 9-10: Cutting-edge, research-level, or highly specialized

Be accurate and use official O*NET SOC codes. The SOC code format is XX-XXXX.XX (e.g., 15-1252.00).
